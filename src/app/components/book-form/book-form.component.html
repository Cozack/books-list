<div class="edit-book__wrapper">
  <div
    class="edit-book__title d-flex justify-content-center align-items-center"
  >
    {{ data ? "Edit Book" : "Add Book" }}
  </div>

  <form [formGroup]="bookForm" class="edit-book__form">
    <div *ngIf="data?.coverImage" class="edit-book__cover">
      <img [src]="data?.coverImage" alt="Book Cover" />
    </div>

    <div class="edit-book__details">
      <mat-form-field appearance="outline" [@dynamicAppear]>
        <mat-label>Title</mat-label>
        <input matInput formControlName="title" />
        <mat-error
          *ngIf="
            bookForm.get('title')?.invalid && bookForm.get('title')?.touched
          "
        >
          Title is required.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" [@dynamicAppear]>
        <mat-label>Author</mat-label>
        <input matInput formControlName="author" />
        <mat-error
          *ngIf="
            bookForm.get('author')?.invalid && bookForm.get('author')?.touched
          "
        >
          Author is required.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" [@dynamicAppear]>
        <mat-label>Year</mat-label>
        <input matInput type="number" formControlName="year" />
        <mat-error
          *ngIf="bookForm.get('year')?.invalid && bookForm.get('year')?.touched"
        >
          Enter a valid year.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" [@dynamicAppear]>
        <mat-label>Description</mat-label>
        <textarea matInput formControlName="description"></textarea>
      </mat-form-field>

      <div class="edit-book__actions">
        <button
          mat-raised-button
          color="primary"
          type="submit"
          [disabled]="bookForm.invalid"
          (click)="saveBook(bookForm.value)"
        >
          Save
        </button>
        <button mat-stroked-button mat-dialog-close color="warn">Cancel</button>
      </div>
    </div>
  </form>
</div>
